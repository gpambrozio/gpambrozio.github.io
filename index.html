<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dual Interactive Character Grids</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <style>
    #app {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: Arial, sans-serif;
    }
    .game-container {
      display: flex;
      gap: 40px;
      max-width: 1000px;
    }
    .grid-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .grid {
      display: grid;
      gap: 5px;
    }
    .grid-5x5 {
      grid-template-columns: repeat(5, 80px);
      grid-template-rows: repeat(5, 80px);
    }
    .cell {
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      border: 1px solid #ccc;
      cursor: pointer;
      user-select: none;
      width: 80px;
      height: 80px;
    }
    .black {
      background-color: black;
    }
    .empty {
      background-color: #f0f0f0;
    }
    .highlighted {
      border: 3px solid lightgreen;
    }
    .lowercase {
      color: rgb(196, 196, 196);
    }
    .theme-title {
      font-size: 24px;
      margin-bottom: 10px;
      text-align: center;
    }
    .theme-title strong {
      font-size: 28px;
    }
    .rules {
      width: 250px;
      font-size: 14px;
      line-height: 1.4;
    }
    .rules h3 {
      margin-top: 0;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="game-container">
      <div class="grid-container">
        <h2 class="theme-title">Theme: <strong>Animals</strong></h2>
        <div class="grid grid-5x5">
          <div 
            v-for="(char, index) in grid1Characters" 
            :key="'grid1-' + index" 
            class="cell" 
            :class="{ 
              black: char === '-', 
              empty: char === ' ',
              highlighted: lastClickedCell === 'grid1-' + index,
              lowercase: char === char.toLowerCase() && char !== char.toUpperCase()
            }"
            @click="transferCharacter(index)"
          >
            {{ char !== '-' && char !== ' ' ? char.toUpperCase() : '' }}
          </div>
        </div>
        <div class="grid grid-5x5">
          <div 
            v-for="(char, index) in grid2Characters" 
            :key="'grid2-' + index" 
            class="cell" 
            :class="{ 
              black: char === '-', 
              empty: char === ' ',
              highlighted: index === 0 || lastClickedCell === 'grid2-' + index
            }"
          >
            {{ char !== '-' && char !== ' ' ? char : '' }}
          </div>
        </div>
      </div>
      <div class="rules">
        <h3>Rules:</h3>
        <ol>
          <li>The top grid represents the main puzzle area.</li>
          <li>The bottom grid contains available letters.</li>
          <li>Click on a cell in the top grid to fill it with the next available letter from the bottom grid.</li>
          <li>You can remove letters from the grid and send it back to the queue but you have to remove them in order.</li>
        </ol>
      </div>
    </div>
  </div>

  <script>
    new Vue({
      el: '#app',
      data: {
        grid1Characters: [
            'c', ' ', ' ', ' ', '-',
            'd', ' ', ' ', '-', '-',
            ' ', 'o', ' ', ' ', 'e',
            ' ', 'i', ' ', ' ', '-',
            ' ', ' ', 'o', 'n', '-'
          ],
          grid2Characters: [
            'F', 'R', 'S', 'O', 'A',
            'S', 'H', 'G', 'R', 'B',
            'L', 'H', 'I'
          ],
          clickOrder: [],
        lastClickedCell: null
      },
      methods: {
        transferCharacter(index) {
          if (this.grid2Characters.length > 0 && this.grid1Characters[index] === ' ') {
            const transferredChar = this.grid2Characters.shift();
            this.clickOrder.push(index);
            this.$set(this.grid1Characters, index, transferredChar);
            this.lastClickedCell = 'grid1-' + index;
          } else if (this.clickOrder.length > 0) {
            const lastClickIndex = this.clickOrder[this.clickOrder.length - 1];
            if (lastClickIndex === index) {
              this.clickOrder.pop();
              const transferredChar = this.grid1Characters[index];
              this.$set(this.grid1Characters, index, ' ');
              this.grid2Characters.unshift(transferredChar);
              if (this.clickOrder.length > 0) {
                const lastClickIndex = this.clickOrder[this.clickOrder.length - 1];
                this.lastClickedCell = 'grid1-' + lastClickIndex;
            } else {
                this.lastClickedCell = null;
              }
            }
          }
        }
      }
    });
  </script>
</body>
</html>
